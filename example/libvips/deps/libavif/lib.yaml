name: libavif
type: cmake
source:
  git:
    url: https://github.com/AOMediaCodec/libavif.git
    ref: v1.1.1
license: LICENSE

options:
  - -DBUILD_SHARED_LIBS=OFF
  - -DAVIF_CODEC_AOM=ON
  - -DAVIF_LOCAL_AOM=OFF
  - -DAVIF_CODEC_DAV1D=OFF
  - -DAVIF_CODEC_RAV1E=OFF
  - -DAVIF_CODEC_SVT=OFF
  - -DAVIF_BUILD_APPS=OFF
  - -DAVIF_BUILD_TESTS=OFF
  - -DAVIF_ENABLE_WERROR=OFF

# 注意: libavif 需要先编译 aom
# dart run bin/compile.dart lib -C example/libvips/deps/aom ...
